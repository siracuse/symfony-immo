{% extends "//layout.html.twig" %}
{% block title %}
    Accueil - {{ parent() }}
{% endblock %}
{% block couleur %}

        <link rel="stylesheet" type="text/css" id="style_sheet"
              href="{{ asset('vue/css/skins/'~  couleur.nomCouleur ~'.css') }}">
        <!-- Favicon icon -->
        <link rel="shortcut icon" href="{{ asset('vue/img/favicon/'~ couleur.nomCouleur ~'-logo.ico') }}"
              type="image/x-icon">

{% endblock %}
{% block logoCouleur %}

        <img src="{{ asset('vue/img/logos/'~ couleur.nomCouleur ~'-logo.png') }}" alt="logo">

{% endblock %}
{% block body %}
    <!-- SLIDER start-->
    <div class="banner">
        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="{{ asset('vue/img/banner/banner-slider-1.jpg') }}" alt="banner-slider-1">
                    <div class="carousel-caption banner-slider-inner banner-top-align">
                        <div class="text-center">
                            <h1 data-animation="animated fadeInDown delay-05s"><span>Find your </span> Dream House
                            </h1>
                            <p class="hidden-xs">Lorem ipsum dolor sit amet, conconsectetuer adipiscing elit</p>
                            <a href="#" class="btn button-md button-theme"
                               data-animation="animated fadeInUp delay-05s">Get
                                Started Now</a>
                            <a href="#" class="btn button-md border-button-theme"
                               data-animation="animated fadeInUp delay-05s">Learn More</a>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <img src="{{ asset('vue/img/banner/banner-slider-2.jpg') }}" alt="banner-slider-2">
                    <div class="carousel-caption banner-slider-inner banner-top-align">
                        <div class="text-right">
                            <h1 data-animation="animated fadeInDown delay-05s"><span>Sweet Home For</span> <br>Small
                                Family</h1>
                            <a href="#" class="btn button-md button-theme"
                               data-animation="animated fadeInUp delay-05s">Get
                                Started Now</a>
                            <a href="#" class="btn button-md border-button-theme"
                               data-animation="animated fadeInUp delay-05s">Learn More</a>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <img src="{{ asset('vue/img/banner/banner-slider-3.jpg') }}" alt="banner-slider-3">
                    <div class="carousel-caption banner-slider-inner banner-top-align">
                        <div class="text-left">
                            <h1 data-animation="animated fadeInDown delay-05s"><span>Best Place To</span><br> Find
                                Home
                            </h1>
                            <a href="#" class="btn button-md button-theme"
                               data-animation="animated fadeInUp delay-05s">Get
                                Started Now</a>
                            <a href="#" class="btn button-md border-button-theme"
                               data-animation="animated fadeInUp delay-05s">Learn More</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Controls -->
            <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
            <span class="slider-mover-left" aria-hidden="true">
                <i class="fa fa-angle-left"></i>
            </span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
            <span class="slider-mover-right" aria-hidden="true">
                <i class="fa fa-angle-right"></i>
            </span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    <!-- SLIDER end -->

    <!-- BARRE DE RECHERCHE start-->
    <div class="search-area">
        <div class="container">
            <div class="search-area-inner">
                <div class="search-contents ">
                    {{ form_start(form) }}
                    <div class="row SHmarge2">
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
                            <div class="form-group">
                                {{ form_widget(form.surfaceBienMax, {'attr' : {
                                    'class' : 'search-fields selectpicker',
                                    'data-live-search' : 'true',
                                    'data-live-search-placeholder' : 'Recherche'
                                }}) }}
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
                            <div class="form-group">
                                {{ form_widget(form.typeVenteBien, {'attr' : {
                                    'class' : 'search-fields selectpicker',
                                    'data-live-search' : 'true',
                                    'data-live-search-placeholder' : 'Recherche'
                                }}) }}
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
                            <div class="form-group">
                                {{ form_widget(form.zoneGeo, {'attr' : {
                                    'class' : 'search-fields selectpicker',
                                    'data-live-search' : 'true',
                                    'data-live-search-placeholder' : 'Recherche'
                                }}) }}
                                {{ form_errors(form.zoneGeo) }}
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
                            <div class="form-group">
                                {{ form_widget(form.typeBien, {'attr' : {
                                    'class' : 'search-fields selectpicker',
                                    'data-live-search' : 'true',
                                    'data-live-search-placeholder' : 'Recherche'
                                }}) }}
                                {{ form_errors(form.typeBien) }}
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-lg-2 col-md-2 col-sm-6 col-xs-6">
                            <div class="form-group">
                                {{ form_widget(form.nbPiece, {'attr' : {
                                    'class' : 'search-fields selectpicker',
                                    'data-live-search' : 'true',
                                    'data-live-search-placeholder' : 'Recherche'
                                }}) }}
                                {{ form_errors(form.nbPiece) }}
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-6 col-xs-6">
                            <div class="form-group">
                                {{ form_widget(form.nbChambre, {'attr' : {
                                    'class' : 'search-fields selectpicker',
                                    'data-live-search' : 'true',
                                    'data-live-search-placeholder' : 'Recherche'
                                }}) }}
                                {{ form_errors(form.nbChambre) }}
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-6 col-xs-6">
                            <div class="form-group">
                                {{ form_widget(form.nbSalleDeBain, {'attr' : {
                                    'class' : 'search-fields selectpicker',
                                    'data-live-search' : 'true',
                                    'data-live-search-placeholder' : 'Recherche'
                                }}) }}
                                {{ form_errors(form.nbSalleDeBain) }}
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
                            <div class="form-group">
                                {{ form_widget(form.prixMax, {'id': 'myRange', 'value': monPrixMax['prixMax'],
                                    'attr': {'min' : monPrixMin['prixMin'], 'max' : monPrixMax['prixMax']}}) }}
                                Prix max : <span id="demo"> </span> €
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6 ">
                            <div class="form-group">
                                {{ form_widget(form.Rechercher) }}
                            </div>
                        </div>
                    </div>
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
    <!-- BARRE DE RECHERCHE end -->

    <!-- Recent bien start -->
    <div class="content-area featured-properties">
        <div class="container">
            <!-- Main title -->
            <div class="main-title">
                <h1><span>Récent</span> Bien ajouté</h1>
            </div>
            <ul class="list-inline-listing filters filters-listing-navigation">
                <li class="active btn filtr-button filtr" data-filter="all">Tout</li>
                {% for type in types %}
                    <li data-filter="{{ type.id }}"
                        class="btn btn-inline filtr-button filtr">{{ type.nomTypebien }}</li>
                {% endfor %}
            </ul>
            <div class="row">
                <div class="filtr-container">
                    {% for bien in biens %}
                        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12  filtr-item"
                             data-category="{{ bien.typeBien.id }}">
                            {% include "BienBundle:Main:modalBien.html.twig" %}
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    <!-- Recent bien end -->

    <!-- Que recherchez-vous start -->
    <div class="mrg-btm-30 our-service">
        <div class="container">
            <!-- Main title -->
            <div class="main-title">
                <h1><span>Que</span> recherchez-vous ?</h1>
            </div>
            <div class="row mgn-btm wow">
                {% if nbTypes == 1 %}
                    <div class="col-lg-4 col-lg-offset-4 col-md-4 col-md-offset-4 col-xs-12 wow fadeInDown delay-02s">
                        {% for type in types %}
                            <a href="/agence/web/app_dev.php/bien/view/grid/type/{{ type.id }}">
                                <div class="content">
                                    <i class="flaticon-apartment"></i>
                                    <h4>{{ type.nomTypeBien }}</h4>
                                    <p>{{ type.descriptionType }}</p>

                                </div>
                            </a>
                        {% endfor %}
                    </div>
                {% elseif nbTypes == 2 %}
                    {% for type in types %}
                        <div class="{% if loop.index == 1 %} col-lg-3 col-md-3  col-lg-offset-3 col-md-offset-3 col-sm-6 col-xs-12 wow fadeInDown delay-02s {% else %} col-lg-3 col-md-3 col-sm-6 col-xs-12 wow fadeInDown delay-02s {% endif %}">
                            <a href="/agence/web/app_dev.php/bien/view/grid/type/{{ type.id }}">
                                <div class="content">
                                    <i class="flaticon-apartment"></i>
                                    <h4>{{ type.nomTypeBien }}</h4>
                                    <p>{{ type.descriptionType }}</p>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                {% elseif nbTypes == 3 %}
                    {% for type in types %}
                        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 wow fadeInDown delay-02s">
                            <a href="/agence/web/app_dev.php/bien/view/grid/type/{{ type.id }}">
                                <div class="content">
                                    <i class="flaticon-apartment"></i>
                                    <h4>{{ type.nomTypeBien }}</h4>
                                    <p>{{ type.descriptionType }}</p>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                {% else %}
                    {% for type in types %}
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 wow fadeInDown delay-02s">
                            <a href="/agence/web/app_dev.php/bien/view/grid/type/{{ type.id }}">
                                <div class="content">
                                    <i class="flaticon-apartment"></i>
                                    <h4>{{ type.nomTypeBien }}</h4>
                                    <p>{{ type.descriptionType }}</p>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
    {# Que recherchez vous end#}

    <!-- Agence P start -->
    {% if agencePrincipale != null %}
        <div class="about-city-estate mrg-btm-70" id="agence">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                        <div class="car-detail-slider simple-slider">
                            <div id="carousel-custom" class="carousel slide" data-ride="carousel">
                                <div class="carousel-outer">
                                    <!-- Wrapper for slides -->
                                    <img src="{{ asset('uploads/agences/'~ agencePrincipale.photoAgence ~'') }}"
                                         class="img-preview img-responsive"
                                         alt="properties-1">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                        <div class="about-text">
                            <div class="main-title-2">
                                <h1><span>{{ agencePrincipale.nomAgence }}</span></h1>
                            </div>
                            {{ agencePrincipale.descripAgence|raw }}<br><br>
                            <a href="/agence/web/app_dev.php/agence/fiche/{{ agencePrincipale.id }}"
                               class=" btn button-sm button-theme">En savoir plus</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
    <!-- Agence P end -->

    <div class="clearfix"></div>

    <!-- Chiffres start -->
    <div class="counters">
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-sm-6 bordered-right">
                    <div class="counter-box">
                        <i class="flaticon-tag"></i>
                        <h1 class="counter">{{ nbBienVendre }}</h1>
                        <p>Annonce(s) à vendre</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 bordered-right">
                    <div class="counter-box">
                        <i class="flaticon-symbol-1"></i>
                        <h1 class="counter">{{ nbBienLouer }}</h1>
                        <p>Annonce(s) à louer</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 bordered-right">
                    <div class="counter-box">
                        <i class="flaticon-people"></i>
                        <h1 class="counter">{{ nbAgents }}</h1>
                        <p>Agent(s)</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 wow">
                    <div class="counter-box">
                        <i class="flaticon-apartment"></i>
                        <h1 class="counter">{{ nbAgences }}</h1>
                        <p>Agence(s)</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Chiffres end -->
{% endblock %}